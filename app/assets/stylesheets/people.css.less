@import "twitter/bootstrap/variables.less";
@import "twitter/bootstrap/mixins.less";

@import "animals.less";

/*.something() {
  2in;
}
*/
@border-width: 1px;
@cell-padding-left: 5px;
@cell-width: 150px;
@cell-height: 150px;

@print-border-width: 1pt;
@print-cell-padding-left: 5pt;
@print-cell-width: 164pt; /*  2.3 in */
@print-cell-height: 115pt; /* (1.5in) */


@media print {
  body {
    margin: 0;
    padding: 0;
  }
}

.chart-dimensions() {
  @media screen {
    width: 4 * (@cell-width + @cell-padding-left + @border-width) !important;
    height: 4 * (@cell-height + @border-width) !important;
  }
  
  @media print {
    width: 4 * (@print-cell-width + @print-cell-padding-left + 3 * @print-border-width) !important;
    height: 4 * (@print-cell-height + @print-border-width + 3 * @print-border-width) !important;
  }
}

.palace_location(@x, @y) {
  position: absolute;
  @media screen {
    left: @x * (@cell-width  + @border-width + @cell-padding-left) + @cell-padding-left;
    top:  @y * (@cell-height + @border-width) + @cell-padding-left;
  }
  
  @media print {
    left: @x * (@print-cell-width  + @print-cell-padding-left) + @print-cell-padding-left;
    top:  @y * (@print-cell-height) + @print-cell-padding-left;
  }
}

.chart_info_dimensions() {
  @media screen {
    width: 2 * (@cell-width + @border-width + @cell-padding-left) !important;
    height: 2 * (@cell-height + @border-width + @cell-padding-left) !important;
  }
  
  @media print {
    width: 2 * (@print-cell-width + @print-cell-padding-left) !important;
    height: 2 * (@print-cell-height + @print-cell-padding-left) !important;
  }
}

.palace_dimensions() {
  @media screen {
    width: @cell-width !important;
    height: @cell-height !important;
    padding-left: @cell-padding-left;
    border: 1px black solid;
  }
  @media print {
    width: @print-cell-width - 0.75pt !important;
    height: @print-cell-height - 0.75pt !important;
    padding-left: @print-cell-padding-left;
    border: 1pt black solid;
  }
}


.charts_list {
  position: relative;
  &> ul {
    padding-top: 4px;

  }
  a.new_chart {
    position: absolute;
    top: 25px;
    right: 4px;
    
    img {
      height: 20px;
    }
  }
}


.animal{
  .animal_block(75px);
}

.chart {
  position: relative;
  .chart-dimensions();
  .palace {
    .palace_dimensions();
  }
}

.chart_details {
  min-width: 400px !important;
}

.person {
  span:first-child {
    width: 170px;
    display: inline-block
  }
  span.details {
    margin-right: 8px;
    i {
      font-size: 13pt;
      margin-top: 8px;
    }
  }
  &:hover {
    cursor: pointer;
    border-color: @gray;
  }
  position: relative;
  padding: 4px;
  margin-bottom: 4px;
  .my_well();
  .animal{
    .animal_block(25px);
  }
}


//  Star Relationships Layout

.star_relationship_container {
  position: relative;
  .controls {
    position: absolute;
    top: 7px;
    right: 7px;
    font: @grayLight;
    font-size: 14pt;
    display: none;
  }
  &:hover {
    .controls {
      display: block;
    }
  }
}


//  Chart Layout

.chart {
  .title_info {
    .chart_info_dimensions();
    table {
      width: 100% !important;
    }
    .palace_location(1, 1);
  }
  
  .snake {
    .palace_location(0, 0);
  }
  .horse {
    .palace_location(1, 0);
  }
  .goat {
    .palace_location(2, 0);
  }
  .monkey {
    .palace_location(3, 0);
  }
  .dragon {
    .palace_location(0, 1);
  }
  .rooster {
    .palace_location(3, 1);
  }
  .rabbit {
    .palace_location(0, 2);
  }
  .dog {
    .palace_location(3, 2);
  }
  .tiger {
    .palace_location(0, 3);
  }
  .ox {
    .palace_location(1, 3);
  }
  .rat {
    .palace_location(2, 3);
  }
  .pig {
    .palace_location(3, 3);
  }
  
}


// Chart Typography

.chart {
  .title_info {
    .name {
      font-family: 'Buda', cursive;
    }
    .pillar_title {
      font-family: 'Maven Pro', sans-serif;
    }
    text-align: center;
    margin-top: 25px;
  }
  
  .palace {
    font-family: 'Domine', serif;

    .name {
      margin: 5px 0;
      font-size: 12pt;
      a {
        color: @black;
        &:hover {
          text-decoration: none;
        }
      }
    }

    .palace_location {
      position: absolute;
      right: 5px;
      bottom: 5px;
    }
  }
}
.rank1 {
  font-size: 16px;
  font-weight: bold;
  padding: 4px;
  border: 1px dotted @grayLight;
  .border-radius(8px);
}
.rank2 {
  font-size: 14px;
  font-weight: bold;
  color: @grayDark;
}
.rank3 {
  color: @gray;
  font-size: 12px;
  font-weight: bold;
}

.rank4 {
  color: @gray;
  font-size: 11px;
  font-weight: bold;
}

.rank5, .rank6, .rank7 {
  color: @gray;
  font-size: 10px;
}

.star_display {
  margin-bottom: 1px;
  
  &.major_star {
    display: table;
  }
  &.borrowed_star {
    display: table;
    font-style: oblique;
    .opacity(20);
  }
  &.minor_star {
    display: inline-block;
    margin-left: 5px;
    &:first-child {
      margin-left: 0;
    }
  }
  
}

@media print {
  a[href]:after {
  content: "";
  }
  header, .chart_details {
    display: none;
  }
  body {
    padding-top: 0.5in;
/*    padding-left: 1.5in;*/
  }
}
